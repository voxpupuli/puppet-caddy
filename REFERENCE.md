# Reference

<!-- DO NOT EDIT: This document was generated by Puppet Strings -->

## Table of Contents

### Classes

#### Public Classes

* [`caddy`](#caddy): Main class, includes all other classes.

#### Private Classes

* `caddy::config`: This class handles the Caddy config.
* `caddy::install`: This class handles the Caddy archive.
* `caddy::service`: This class handles the Caddy service.

### Defined types

* [`caddy::vhost`](#caddy--vhost): This defined type handles the Caddy virtual hosts.

## Classes

### <a name="caddy"></a>`caddy`

Main class, includes all other classes.

#### Examples

##### Basic usage

```puppet
include caddy
```

##### Install customised version of Caddy

```puppet
class { 'caddy':
  caddy_features => 'http.git,http.filter,http.ipfilter',
}
```

##### Install specific version of Caddy

```puppet
class { 'caddy':
  version        => '2.0.0',
  install_method => 'github',
}
```

#### Parameters

The following parameters are available in the `caddy` class:

* [`version`](#-caddy--version)
* [`install_method`](#-caddy--install_method)
* [`install_path`](#-caddy--install_path)
* [`caddy_user`](#-caddy--caddy_user)
* [`caddy_group`](#-caddy--caddy_group)
* [`caddy_shell`](#-caddy--caddy_shell)
* [`caddy_log_dir`](#-caddy--caddy_log_dir)
* [`caddy_home`](#-caddy--caddy_home)
* [`caddy_ssl_dir`](#-caddy--caddy_ssl_dir)
* [`caddy_license`](#-caddy--caddy_license)
* [`caddy_telemetry`](#-caddy--caddy_telemetry)
* [`caddy_features`](#-caddy--caddy_features)
* [`caddy_architecture`](#-caddy--caddy_architecture)
* [`caddy_account_id`](#-caddy--caddy_account_id)
* [`caddy_api_key`](#-caddy--caddy_api_key)
* [`systemd_limit_processes`](#-caddy--systemd_limit_processes)
* [`systemd_private_devices`](#-caddy--systemd_private_devices)
* [`systemd_capability_bounding_set`](#-caddy--systemd_capability_bounding_set)
* [`systemd_ambient_capabilities`](#-caddy--systemd_ambient_capabilities)
* [`systemd_no_new_privileges`](#-caddy--systemd_no_new_privileges)

##### <a name="-caddy--version"></a>`version`

Data type: `Optional[String[1]]`

Which version of caddy to install when install_method is github.

Default value: `undef`

##### <a name="-caddy--install_method"></a>`install_method`

Data type: `Optional[Enum['github']]`

Which source is used.

Default value: `undef`

##### <a name="-caddy--install_path"></a>`install_path`

Data type: `Stdlib::Absolutepath`

Directory where the Caddy binary is stored.

Default value: `'/opt/caddy'`

##### <a name="-caddy--caddy_user"></a>`caddy_user`

Data type: `String[1]`

The user used by the Caddy process.

Default value: `'caddy'`

##### <a name="-caddy--caddy_group"></a>`caddy_group`

Data type: `String[1]`

The group used by the Caddy process.

Default value: `'caddy'`

##### <a name="-caddy--caddy_shell"></a>`caddy_shell`

Data type: `Stdlib::Absolutepath`

Which shell is used.

Default value: `'/sbin/nologin'`

##### <a name="-caddy--caddy_log_dir"></a>`caddy_log_dir`

Data type: `Stdlib::Absolutepath`

Directory where the log files are stored.

Default value: `'/var/log/caddy'`

##### <a name="-caddy--caddy_home"></a>`caddy_home`

Data type: `Stdlib::Absolutepath`

Directory where the Caddy data is stored.

Default value: `'/var/lib/caddy'`

##### <a name="-caddy--caddy_ssl_dir"></a>`caddy_ssl_dir`

Data type: `Stdlib::Absolutepath`

Directory where Let's Encrypt certificates are stored.

Default value: `'/etc/ssl/caddy'`

##### <a name="-caddy--caddy_license"></a>`caddy_license`

Data type: `Enum['personal', 'commercial']`

Whether a personal or commercial license is used.

Default value: `'personal'`

##### <a name="-caddy--caddy_telemetry"></a>`caddy_telemetry`

Data type: `Enum['on','off']`

Whether telemetry data should be collected.

Default value: `'off'`

##### <a name="-caddy--caddy_features"></a>`caddy_features`

Data type: `String[1]`

A list of features the Caddy binary should support.

Default value: `'http.git,http.filter,http.ipfilter'`

##### <a name="-caddy--caddy_architecture"></a>`caddy_architecture`

Data type: `String[1]`

A temporary variable, required for the download URL.

Default value: `$facts['os']['architecture']`

##### <a name="-caddy--caddy_account_id"></a>`caddy_account_id`

Data type: `Optional[String[1]]`

The account ID, required for the commercial license.

Default value: `undef`

##### <a name="-caddy--caddy_api_key"></a>`caddy_api_key`

Data type: `Optional[String[1]]`

The API key, required for the commercial license.

Default value: `undef`

##### <a name="-caddy--systemd_limit_processes"></a>`systemd_limit_processes`

Data type: `Integer[0]`

The number of processes.

Default value: `64`

##### <a name="-caddy--systemd_private_devices"></a>`systemd_private_devices`

Data type: `Boolean`

Whether the process has access to physical devices.

Default value: `true`

##### <a name="-caddy--systemd_capability_bounding_set"></a>`systemd_capability_bounding_set`

Data type: `Optional[String[1]]`

Controls which capabilities to include in the capability bounding set for the executed process.

Default value: `undef`

##### <a name="-caddy--systemd_ambient_capabilities"></a>`systemd_ambient_capabilities`

Data type: `String[1]`

Controls which capabilities to include in the ambient capability set for the executed process.

Default value: `'CAP_NET_BIND_SERVICE'`

##### <a name="-caddy--systemd_no_new_privileges"></a>`systemd_no_new_privileges`

Data type: `Optional[Boolean]`

Whether the process and all its children can gain new privileges through execve().

Default value: `undef`

## Defined types

### <a name="caddy--vhost"></a>`caddy::vhost`

This defined type handles the Caddy virtual hosts.

#### Examples

##### Configure virtual host, based on source

```puppet
caddy::vhost { 'example1':
  source => 'puppet:///modules/caddy/etc/caddy/config/example1.conf',
}
```

##### Configure virtual host, based on content

```puppet
caddy::vhost { 'example2:
  content => 'localhost:2015',
}
```

#### Parameters

The following parameters are available in the `caddy::vhost` defined type:

* [`source`](#-caddy--vhost--source)
* [`content`](#-caddy--vhost--content)

##### <a name="-caddy--vhost--source"></a>`source`

Data type: `Optional[Stdlib::Filesource]`

source (path) for the caddy vhost configuration

Default value: `undef`

##### <a name="-caddy--vhost--content"></a>`content`

Data type: `Optional[String]`

string with the caddy vhost configuration

Default value: `undef`

